import{d as x,r,o as l,c as o,w as v,v as b,a as n,b as g,F as h,e as m,f as w,t as f}from"./index-CE_7Rl0O.js";const C=n("label",{for:"checkbox"},"显示封面",-1),M=["src"],U=["onClick"],V=n("span",null,"作者：",-1),B=["src"],_="https://oiapi.net/API/Music_163",P=x({__name:"MyView2",setup(L){const s=r(""),c=r(!1),d=r([]),p=r(""),i=r(),y=u=>{let t=new URL(_);t.searchParams.append("id",u.toString()),fetch(t).then(e=>e.json()).then(e=>{let a=e.data;a.length>0&&(p.value=a[0].url,i.value.oncanplay=()=>{i.value.oncanplay=null,i.value.play()})})};function k(){if(!s.value||!s.value.trim())return;let u=new URL(_);u.searchParams.append("name",s.value),fetch(u).then(t=>t.json()).then(t=>{d.value=t.data})}return(u,t)=>(l(),o("main",null,[v(n("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e)},null,512),[[b,s.value]]),n("button",{onClick:k},"搜索"),n("div",null,[v(n("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=e=>c.value=e)},null,512),[[g,c.value]]),C]),n("div",null,[(l(!0),o(h,null,m(d.value,e=>(l(),o("div",{key:e.id},[c.value?(l(),o("img",{key:0,src:e.picurl,width:"100px",height:"100px",alt:"封面"},null,8,M)):w("",!0),n("span",null,f(e.name),1),n("a",{href:"#",onClick:a=>y(e.id)},"播放",8,U),V,(l(!0),o(h,null,m(e.singers,a=>(l(),o("span",{key:a.id},f(a.name),1))),128))]))),128))]),n("audio",{ref_key:"audio",ref:i,id:"audio",src:p.value,controls:""},null,8,B)]))}});export{P as default};
